<!--
@license
Copyright (c) 2015 The BasicElements Project Authors. All rights reserved.
-->

<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../browser-features-behavior/browser-features-behavior.html">

<script>
var BasicElements = BasicElements || {};

  BasicElements.DroppableBehavior = {
    /**
    * Note, this behavior expects some features that are not supported by all browsers, Currently working on a Feature(& Droppable)NotSupportedBehavior.
    *
    * @demo
    * @polymerBehavior BasicElements.droppableBehavior
    */
    hostAttributes: {
      droppable: 'true',
    },

    properties: {
      data: {
        type: String,
        value: false,
        notify: true
      }
    },

    ready: function () {
      this.addEventListener('dragover', this.preventDefault.bind(this));
      this.addEventListener('drop', this._onDrop.bind(this));
    },

    preventDefault: function (event) {
      event.preventDefault();
    },

    listeners: {
      drop: '_onDrop'
    },

    _onDrop: function (event) {
      this.data = event.dataTransfer.getData('text');
    }
  };

</script>
